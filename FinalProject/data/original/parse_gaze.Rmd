
```{r}
files <- list.files(pattern="RECON")

count <- 1

for (file in files) {
  
  gaze <- read.csv(file)
  if (gaze$orientationCondition[1] == "offset") {next}
  
  gaze$Gaze_Location.y. <- (gaze$Gaze_Location.y. + 345) / 2

  # setwd("PositionFiles")
  # filename <- str_remove(file, "RECON_smooth4_")
  # colnames(gaze)[3:8] <- c("Position(x)", "Position(y)", "Position(z)", "Orientation(x)", "Orientation(y)", "Orientation(z)")
  # colnames(gaze)[11:20] <- c("Estimated_Path_Center(x)", "Estimated_Path_Center(y)", "Estimated_Path_Center(z)", "Gaze_Target",
  #                                  "Gaze_Location(x)", "Gaze_Location(y)", "Gaze_Location(z)", "Gaze_Through_Gate", "Norm_Pos(x)", "Norm_Pos(y)")
  # write.table(gaze, filename, row.names=FALSE, quote=FALSE, sep=",")
  # setwd("..")
  # 
  #setwd("CogMod")
  output <- gaze[,c(1:8, 10:13, 15:17)]
  output$Subject <- count

  one <- subset(output, Lap_Number==0)
  filename <- paste("subject", count, "_", 1, ".csv", sep="")
  write.table(one, filename, row.names=FALSE, quote=FALSE, sep=";")

  two <- subset(output, Lap_Number==1)
  filename <- paste("subject", count, "_", 2, ".csv", sep="")
  write.table(two, filename, row.names=FALSE, quote=FALSE, sep=";")

  #setwd("..")
  count <- count + 1

}
```

